---

title: PI 数据库介绍
categories: 
  - 软件
tags:
  - PI
  - 教程
---

# PI实时数据库探索

## PI简介

### 用途

1. 应用领域

电厂SIS是要求非常严格，数据量非常大的生产环境，如果延迟很高的话，系统这边一个阀门状态没能实时传输，可能安全运行值长就要关闭控制系统，紧急制，产生的损失非常巨大，不能安全的指导下一步行动。

2. 应用场景

PI为管理层打开了一个虚拟窗口，领导可以在电脑上实时监控生产运行状态，实现整个系统的控制与管理。

## PI优势

### 数据存储技术


#### 1. 存储算法--分页

    存储一条32位的浮点数变量的记录平均只需要5个字节？
    
    （V：Value，指变量值；Q：Quality，指数据质量；T：Timestamp，指变量值对应的时间戳）


#### 2. 螺旋们压缩和二次过滤


PI数据流的第一道压缩由个接口实现，接口程序调用具有压缩算法的数据发送函数，将数据在发送到PI前进行取舍，其算法基于相邻数据点的时间和数值偏差。经过通过压缩（即没被舍去）的数据发送到Snapshot（中间可以有一道缓存机制）。第二道压缩在Snapshot将数据发送到Archive时进行，以前叫“平行四边形压缩法”，前两年改名叫“旋转门”，一种基于数据点之间斜率来确定数据点取舍的算法。 

Archive系统的由多个称为Archive的数据文件组成，一般这些文件都是固定大小的。一个文件写满（并非完全写满，为新插入数据留有一定空间）切换到另外一个文件，如此轮流，当前写的那个文件称为Primary Archive。每个文件都标有数据的起始和结束时间，以方便数据查询。这些文件组成了在线历史数据库，这种实现方法使得客户端在查询在线的无论多久的历史数据，其性能都不会差很多。在线历史数据的保存时间（即不被覆盖）根据所有文件的总容量和数据量决定。同时PI系统还提供历史数据备份恢复功能。实际上备份功能也差不多就是把这些数据文件复制到别的地方放着。

记录：5----页：1024字节----块-----文件系统




### 数据库对比


| 比较项目 | 实时数据库| 关系数据库|
|---|---|---|
|  应用领域 | 电力，化工，石油等生产环境  |电商，金融等事务性环境   |
|存储方式|时间序列存储|二维表存储  |
|读写速度|1000000/s   |3000/s   |
|磁盘占用|单台服务器--10万点/s-- 一年--**60G**  |   **2400G**|


## PI安装


## PI常规操作

### 1. 搜索点 
### 2. 修改点

