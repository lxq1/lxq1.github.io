{"compress":true,"commitItems":[["ef64f0e6-a5d6-4261-b986-bc3e00ca31e9",1532321501937,"---\nlayout: post\ntitle: Lorem ipsum\ncategories: \n  - consectetur\n  - malesuada\ntags:\n  - semper\n  - fermentum\n---\n\n![Nulla euismod, vitae aliquet orci eleifend.]($appres/images/night.jpg)\n\n# Lorem ipsum\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus eu tempor dolor. Nulla hendrerit convallis purus et elementum. Suspendisse non magna vel justo tincidunt finibus. Nullam dui erat, malesuada eget viverra non, finibus a nisl.",[[1532321444600,["lixq@lixq-PC",[[-1,114,"\n![Nulla euismod, vitae aliquet orci eleifend.]($appres/images/night.jpg)\n\n# Lorem ipsum\n\nLorem ipsum dolor sit amet, consec"],[1,238,"# VSFTP启动失败-Failed to start Vsftpd ftp daemon\n\n## 错误如下\n```\n[root@host-liu vsftpd]# systemctl status vsftpd.service\nvsftpd.service - Vsftpd ftp daemon\n   Loaded: loaded (/usr/lib/systemd/system/vsftpd.service; disabled)\n   Active: failed (Result: exit-code) since Tue 2018-07-03 10:09:23 CST; 2min 3s ago\n  Process: 2600 ExecStart=/usr/sbin/vsftpd /etc/vsftpd/vsftpd.conf (code=exi"],[1,240,"d, sta"],[-1,242,"r adipiscing elit. Phasellus eu tempor dolor. Nulla hendrerit convallis purus et elem"],[1,327,"s=2)\n\nJul 03 10:09:23 host-liu systemd[1]: vsftpd.service: control process exited, code=exited status=2\nJul 03 10:09:23 host-liu systemd[1]: Failed to start Vsftpd ftp daemon.\nJul 03 10:09:23 host-liu systemd[1]: Unit vsftpd.service entered failed state.\n\n```\n\n## 分析原因\n\n1. 上网查找问题解决办法，**有人说listen改成NO**，但我的配置文件已经是NO了，所以这个方法不行，\n2. 有人说端口占用问题，**看了一下端口**，21-20都是没服务占用，只能想其他办法了，\n3. **关闭防火墙和SELinux**来测试最好，排除其他干扰因素。\n\n## 解决办法\n\n1. 一般启动错误肯定是配置文件有问题，我在配置虚拟用户模式的时候，出现了这个问题。\n2. 最后清空所有配置文件，然后vi一行一行输入，在重启服务，发现可以用了，可能是自己复制粘贴网上代码的时候，编码格式问题导致了。\n3. 如果大家有出现此问题的，可以试试清空配置文件，然后一行行添加下面最简单的配置文件参数来测试。\n\n## 最简单的配置文件\n```\nanonymous_enable=NO\nlocal_"],[1,329,"able=YES\nwri"],[1,330,"e_enable=YES\nlocal_"],[-1,332,". Suspen"],[1,340,"ask=022\n"],[1,342,"rme"],[-1,344,"e non magna vel justo tincidunt finibus. Nullam dui erat, malesuada eget "],[1,417,"age_enable=YES\nxferlog_enable=YES\nconnect_from_port_20=YES\nxferlog_std_format=YES\nlisten=NO\nlisten_ipv6=YES\npam_service_name=vsftpd\nuserlist_enable=YES\ntcp_wrappers=YES\n```\n\n## 虚拟用户配置文件\n```\n\nanonymous_enable=NO\nlocal_enable=YES\nguest_enable=YES\nguest_username=virtual\nallow_writeable_chroot=YES\nwrite_enable=YES\nlocal_umask=022\ndirmessage_enable=YES\nxferlog_enable=YES\nconnect_from_port_20=YES\nxferlog_std_format=YES\nlisten=NO\nlisten_ipv6=YES\npam_ser"],[1,419,"ce_name="],[1,420,"sftpd.vu\nus"],[1,422,"list_enable=YES\ntcp_w"],[-1,424," n"],[1,426,"ppers=YES\nuser_c"],[-1,428,", "],[-1,432,"nibus a nisl."],[1,445,"g_dir=/etc/vsftpd/vuser_dir\n~                                     \n```"]],[114,445],[1763,1763]]],[1532321450954,["lixq@lixq-PC",[[-1,114,"# VSFTP启动失败-Failed to start Vsftpd ftp daemon"]],[116,159],[114,114]]],[1532321454799,["lixq@lixq-PC",[[-1,24,"Lorem ipsum"],[1,35,"VSFTP启动失败-Failed to start Vsftpd ftp daemon"]],[24,35],[67,67]]],[1532321468269,["lixq@lixq-PC",[[-1,121,"semper"],[1,127,"Linux"]],[121,121],[126,126]]],[1532321471677,["lixq@lixq-PC",[[-1,85,"consectetur"],[1,96,"软件"]],[85,85],[87,87]]],[1532321480461,["lixq@lixq-PC",[[-1,122,"fermentum"],[1,131,"命令"]],[122,122],[124,124]]],[1532321486178,["lixq@lixq-PC",[[-1,88,"  - malesuada"]],[92,101],[88,88]]],[1532321486613,["lixq@lixq-PC",[[-1,88,"\n"]],[88,88],[87,87]]]],null,"lixq@lixq-PC"]]}