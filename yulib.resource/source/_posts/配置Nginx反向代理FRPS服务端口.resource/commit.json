{"compress":true,"commitItems":[["c8ad63f8-d1d4-47a1-aa94-4afafdefa5ab",1532325813955,"#  配置Nginx反向代理FRPS服务端口\n\n##  文章作用\n\n**根据最后的效果图，我们可以看到省去了端口号访问，直接用域名访问内网中的项目，方便好记！**\n\n##  Nginx简介   \n\n1.  开放源代码的高性能HTTP服务器和反向代理服务器，同时支持IMAP和POP3代理\n\n2. 高性能、高可用、丰富的功能模块，低资源占用\n\n3. 高达50000个并发连接\n\n##  FRP简介 \n\n1. frp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.\n2. frp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。\n3. [GITHUB开源项目地址](https://github.com/fatedier/frp/)\n\n\n##  安装Nginx\n\n> 采用源码安装 \n\n> 安装目录： /usr/local/nginx\n\n```\nwget http://nginx.org/download/nginx-1.14.0.tar.gz\n\ntar -xzf nginx-1.14.0.tar.gz -C /usr/src/\n\nyum -y install gcc pcre pcre-devel openssl \\\n> openssl-devel gd gd-devel perl perl-ExtUtils-Embed\n\ncd /usr/src/nginx-1.14.0\n\n./configure --prefix=/usr/local/nginx --with-ipv6 --with-http_ssl_module --with-http_realip_module --with-http_addition_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gzip_static_module --with-http_perl_module --with-mail \\\n> --with-mail_ssl_module\n\nmake && make install \n\n\n\n```\n\n##  启动脚本指令\n\n```\n/usr/local/nginx/sbin/nginx #启动主程序\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf #配置文件启动主程序\n/usr/local/nginx/sbin/nginx -s stop #关闭主程序\n/usr/local/nginx/sbin/nginx -s reload #关闭主程序\n\n```\n\n##  配置反向代理\n\n###  Nginx配置文件\n\n```\n\t#FRP测试\n\tserver {\n       listen 80;\n       server_name **.***.***; # 填写你的域名\n       location / {\n           proxy_pass http://127.0.0.1:8088; # 填写frps的http端口\n           proxy_redirect http://$host/ http://$http_host/;\n           proxy_set_header X-Real-IP $remote_addr;\n           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n           proxy_set_header Host $host;\n       }\n\t}\n```\n\n###  frpc的ini配置文件\n\n```\n\n[web01]\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 1024 #填写本机的服务端口\nuse_encryption = false\nuse_compression = true\ncustom_domains = **.***.*** #填写你的域名\n\n```\n\n###  frps的ini配置文件\n```\n#subdomain_host = **.***.***\n```\n\n\n##  效果图\n\n![配置Nginx反向代理frps端口pic1](_v_images/_配置nginx反向代_1527056602_24399.png)\n\n\n## 参考引用\n\n> [frps服务端与nginx可共用80端口](https://www.nat.ee/96.html)\n",[[1532325797711,["lixq@lixq-PC",[[-1,1854,"配置Nginx反向代理frps端口pic1](_v_"],[1,1880,"](https://ws1.sina"],[1,1882,"g.cn/l"],[1,1883,"r"],[-1,1885,"s/_配置nginx反向代_1527056602_24399.pn"],[1,1918,"/640dde2dly1ftjrdkq3epj217u0lhq7a.jp"]],[1852,1920],[1922,1922]]]],null,"lixq@lixq-PC"],["fb9c692c-fbf2-495d-afda-b50d6181a60c",1532327103134,"#  配置Nginx反向代理FRPS服务端口\n\n##  文章作用\n\n**根据最后的效果图，我们可以看到省去了端口号访问，直接用域名访问内网中的项目，方便好记！**\n\n##  Nginx简介   \n\n1.  开放源代码的高性能HTTP服务器和反向代理服务器，同时支持IMAP和POP3代理\n\n2. 高性能、高可用、丰富的功能模块，低资源占用\n\n3. 高达50000个并发连接\n\n##  FRP简介 \n\n1. frp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.\n2. frp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。\n3. [GITHUB开源项目地址](https://github.com/fatedier/frp/)\n\n\n##  安装Nginx\n\n> 采用源码安装 \n\n> 安装目录： /usr/local/nginx\n\n```\nwget http://nginx.org/download/nginx-1.14.0.tar.gz\n\ntar -xzf nginx-1.14.0.tar.gz -C /usr/src/\n\nyum -y install gcc pcre pcre-devel openssl \\\n> openssl-devel gd gd-devel perl perl-ExtUtils-Embed\n\ncd /usr/src/nginx-1.14.0\n\n./configure --prefix=/usr/local/nginx --with-ipv6 --with-http_ssl_module --with-http_realip_module --with-http_addition_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gzip_static_module --with-http_perl_module --with-mail \\\n> --with-mail_ssl_module\n\nmake && make install \n\n\n\n```\n\n##  启动脚本指令\n\n```\n/usr/local/nginx/sbin/nginx #启动主程序\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf #配置文件启动主程序\n/usr/local/nginx/sbin/nginx -s stop #关闭主程序\n/usr/local/nginx/sbin/nginx -s reload #关闭主程序\n\n```\n\n##  配置反向代理\n\n###  Nginx配置文件\n\n```\n\t#FRP测试\n\tserver {\n       listen 80;\n       server_name **.***.***; # 填写你的域名\n       location / {\n           proxy_pass http://127.0.0.1:8088; # 填写frps的http端口\n           proxy_redirect http://$host/ http://$http_host/;\n           proxy_set_header X-Real-IP $remote_addr;\n           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n           proxy_set_header Host $host;\n       }\n\t}\n```\n\n###  frpc的ini配置文件\n\n```\n\n[web01]\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 1024 #填写本机的服务端口\nuse_encryption = false\nuse_compression = true\ncustom_domains = **.***.*** #填写你的域名\n\n```\n\n###  frps的ini配置文件\n```\n#subdomain_host = **.***.***\n```\n\n\n##  效果图\n\n![](https://ws1.sinaimg.cn/large/640dde2dly1ftjrdkq3epj217u0lhq7a.jpg)\n\n\n## 参考引用\n\n> [frps服务端与nginx可共用80端口](https://www.nat.ee/96.html)\n",[[1532327048770,["lixq@lixq-PC",[[1,0,"\n"]],[0,0],[1,1]]],[1532327049581,["lixq@lixq-PC",[[1,0,"---\ntitle:\ncategories:\ntags:\n---"]],[0,0],[32,32]]]],null,"lixq@lixq-PC"]]}